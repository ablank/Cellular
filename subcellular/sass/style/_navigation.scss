/**
 * @file
 * Primary #nav styling
 */

// Display multi-level links using css dropdowns?
$showDropdowns: true;

@media screen {
  // Primary Navigation
  #nav {
    float: right;
    margin: 2em 5% 0 ($logo_width + 20px);
    padding: 0;
    
    a,
    a:visited {
      // Common link styling
      display: block;
      padding: .4em .8em;
      font-family: $h_font;
      font-size: $normal;
      text-align: center;
      font-weight: bold;
      white-space: nowrap;
      text-decoration: none;
      color: $light_grey;
      border-bottom: $light_grey 1px solid;
      //background: lighten($light_grey, 20%);

      &:hover,
      &:focus,
      &:active {
        text-decoration: none;
        background: $hilight;
        color: $white;
        border-bottom: .1em solid;
      }
    }
    
    ul {
      margin: 0;
    }

    li {
      float: left;
      display: block;
      width: auto;
      max-width: none;
      list-style: none;
      margin: 0 .5em;
      padding: 0;

      &:first-child {
        margin-left: 0;
      }

      &:last-child {
        margin-right: 0;
      }

    // Secondary Navigation
      ul {
        left: 0;
        position: absolute;
        visibility: hidden;
        opacity: 0;
        background: $white;
        background: rgba($white, 0.9);
        @include transition();
      }

      @if ($showDropdowns) == true {
        // First nested menu
        &:hover > ul {
          visibility: visible;
          opacity: 1;
          z-index: 2;
        }

        li {
          float: left;
          padding: .1em 0 0 0;
          z-index: 2;

          ul {
            // only show 1st 2 levels
            visibility: hidden;
            display: none;
          }
        }
        /*
        // Second nested menu
        &:hover > ul {
          top: 0;
          right: -100%;
          visibility: visible;
          opacity: 1;
          z-index: 1;
        }
        */
      }
    }

  }

  // Breadcrumb navigation

  #breadcrumb {
    display: inline;
    display: inline-block;
    height: 2em;

    li {
      list-style: none;
      line-height: 2em;
      margin: 0 0 0 .2em;
      width: 100%;
    }

    .home {
      background: url(../assets/images/icon-home.png);
      color: $black;
      padding: 0 0 0 34px;
    }

    a {
      &:visited {
        color: darken($hilight, 20%);
      }

      &:hover,
      &:focus,
      &:active {
        color: $hilight;
      }
    }
  }
}

@media screen and (max-width: $res_mobile) {

  #nav {
    li {
      width: 100%;
      float: none;
      margin: 0;

      // Adjuct margins not set by jMmenu
      &:first-child,
      &:last-child {
        margin: 0;
      }
    }
  }
}

@media screen and (min-width: $res_large) {
  #nav {
    li {
    }
  }
}
