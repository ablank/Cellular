(function(k){Drupal.behaviors.cellular={attach:function(m,n){var f={opts:{cclass:"cellular",activeclass:"active",breakpoint:"window_mobile"},state:{breakpoint:0,scrolltop:0,scrolltimer:0},breakpoint:function(){var d=window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content");return{size:d.match(/\d/g).join(""),type:d.match(/\w*[^\"\'](?=-)/g).join("")}},activate:function(d){d=d?d:f.opts.activeclass;return this.each(function(){var c=jQuery(this);c.hasClass(d)||c.addClass(d).siblings().removeClass(d)})},
deactivate:function(d){d=d?d:f.opts.activeclass;return this.each(function(){jQuery(this).removeClass(d)})},kidWrap:function(){return this.each(function(){var d=jQuery(this);1<d.children().length&&d.children(":gt(0)").wrapAll("<div>")})},classify:function(d){return this.each(function(){jQuery(this).addClass(d.join(" "))})},debounce:function(d,c,e){var a;return function(){var b=this,l=arguments,f=e&&!a;clearTimeout(a);a=setTimeout(function(){a=null;e||d.apply(b,l)},c);f&&d.apply(b,l)}},transitionend:function(){var d,
c=document.createElement("test"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(d in e)if(void 0!==c.style[d])return e[d]}};f.windowstate=f.debounce(function(){var d=f.state.breakpoint;f.state.breakpoint=f.breakpoint().type;jQuery("body").removeClass(d).addClass(f.state.breakpoint)},500);f.scrollstate=f.debounce(function(d,c){var e=jQuery("body");c=f.state.scrolltop;f.state.scrolltop=k(document).scrollTop();f.scrolltimer(e,
"scrolled-up","scrolled-down");0<f.state.scrolltop?e.addClass("scrolled"):e.removeClass("scrolled");f.state.scrolltop>c?e.hasClass("scrolled-down")||e.removeClass("scrolled-up").addClass("scrolled-down"):e.hasClass("scrolled-up")||e.removeClass("scrolled-down").addClass("scrolled-up")},0,!0);f.scrolltimer=function(d,c,e){window.clearTimeout(f.state.scrolltimer);f.state.scrolltimer=window.setTimeout(function(){d.removeClass(c+" "+e)},2E3)};f.windowstate();f.scrollstate();k(window).on("resize",f.windowstate);
k(document).on("scroll",f.scrollstate);f.jAccordion=function(d){var c=jQuery.extend({active:0,duration:500,easing:"swing",single:!1,pclass:"panel"},d),e={};c.pselect="."+c.pclass;e.showContent=function(a){c.single?(a.siblings().find(c.pselect).slideUp(c.duration,c.easing),a.activate().find(c.pselect).slideDown(c.duration,c.easing)):a.toggleClass(f.opts.activeclass).find(c.pselect).slideToggle(c.duration,c.easing)};e.style=function(a){a.once("jAccordion",function(){a.addClass(f.opts.cclass).find("> li").each(function(){var b=
jQuery(this);b.kidWrap();b.children().eq(0).addClass("title");b.children().eq(1).classify([f.opts.cclass,"panel"]);b.find(c.pselect).hide();b.find(".title").click(function(a){a.preventDefault();e.showContent(b)})})})};e.init=function(){var a=jQuery(this);e.style(a);e.showContent(a.children().eq(c.active))};return this.each(e.init)};f.jBlocklink=function(d){var c=jQuery.extend({cclass:"jBlocklink-link"},d);return this.each(function(){var e=jQuery(this);e.once(c.cclass,function(){var a=e.find("a").eq(0),
b=a.attr("href");void 0!==b&&(b=jQuery('<a href="'+b+'" />'),b.classify([f.opts.cclass,c.cclass,a.attr("class")?a.attr("class"):null]),e.wrap(b).find("h2, h3").addClass("title"))});e.on("mouseenter touchstart",function(){jQuery(this).activate()}).on("mouseleave touchend",function(){jQuery(this).deactivate()})})};f.jEqualheight=function(d){jQuery.extend({},d);return this.each(function(){var c=0;jQuery(this).find(">*").each(function(){$t=jQuery(this);$t.height()>c&&(c=$t.height());$t.height(c)})})};
f.jMmenu=function(d){var c=jQuery.extend({breakpoint:f.opts.breakpoint,parent:jQuery("body"),cclass:"jMmenu",type:"slide",direction:"right"},d),e={};e.mediaQuery=f.debounce(function(a,b){if(c.breakpoint===f.state.breakpoint){var d=a.children([0]);b.mmenu=!0;c.parent.addClass(c.type+"-"+c.direction);d.addClass(c.cclass).prependTo(c.parent);e.trigger(a,b)}},500);e.trigger=function(a,b){var e=[c.cclass+"-active",c.cclass+"-inactive"];b.active?(a.activate(),c.parent.addClass(e[0]).removeClass(e[1])):
(a.deactivate(),c.parent.addClass(e[1]).removeClass(e[0]))};e.init=function(){var a=jQuery(this),b={active:!1,mmenu:!1};e.mediaQuery(a,b);jQuery(window).on("resize",function(){e.mediaQuery(a,b)});a.on("click",function(){b.mmenu&&(b.active=b.active?!1:!0,e.trigger(a,b))})};return this.each(e.init)};f.jScrolli=function(d){var c=k.extend({cclass:"jScrolli",active:0,height:"auto",controls:{showmarkers:!0,showcontrols:!0,keyboard:!0,swipe:!0,autoplay:!0,pauseonhover:!0,autodim:!0,delay:1.4,text:{next:"Next",
prev:"Prev",pause:"Pause",play:"Play"}},transition:{pause:5},caption:{enable:!0,autohide:!1,selector:".caption"}},d),e={button:function(a){return'<a class="control '+a.toLowerCase()+'">'+a+"</a>"},normalize:function(a){a.prev=a.current-1;a.next=a.current+1;0>a.prev&&(a.prev=a.count);a.next>a.count&&(a.next=0)},go:function(a,b,d){if(!d.paused){var h=b.find(".slide");d.current=parseInt(a);e.normalize(d);jQuery(h[d.prev]).activate("previous");jQuery(h[d.next]).activate("next");jQuery(h[a]).activate();
b.parent().addClass("transition").one(f.transitionend(),function(){jQuery(this).removeClass("transition")});c.controls.showmarkers&&e.mark(b,d);c.caption.enable&&e.caption(h,d);c.controls.autoplay&&e.updateinterval(b,d)}},mark:function(a,b){a.siblings().find(".marker").eq(b.current).activate()},caption:function(a,b){var e=a.parent().parent(),d=e.find("> .caption p");b.caption=e.find(c.caption.selector).eq(b.current).text();d.text(b.caption)},updateinterval:function(a,b){c.controls.autoplay&&!b.paused&&
(clearInterval(b.interval),b.interval=setInterval(function(){b.current=b.next;e.go(b.current,a,b)},1E3*c.transition.pause))},events:function(a,b){a.siblings(".controls");var d=a.parent();if(c.controls.showmarkers)a.siblings().find(".marker").on("click",function(){b.current=jQuery(this).attr("data-href");b.paused=!1;e.go(b.current,a,b)});d.find(".prev").on("click",function(c){b.current=b.prev;b.paused=!1;e.go(b.current,a,b)});d.find(".next").on("click",function(c){b.current=b.next;b.paused=!1;e.go(b.current,
a,b)});d.on({mouseover:function(){b.active=!0;c.controls.pauseonhover&&(b.paused=!0);c.controls.autodim&&d.activate();window.clearTimeout(d.timeout)},mouseout:function(){b.active=!1;c.controls.pauseonhover&&(b.paused=!1);c.controls.autodim&&(d.timeout=window.setTimeout(function(){d.deactivate()},1E3*c.controls.delay))}});if(c.controls.keyboard)jQuery(document).on("keyup",function(c){if(-1!==[37,39].indexOf(c.which)){c.preventDefault();b.paused=!1;switch(c.which){case 37:b.current=b.prev;break;case 39:b.current=
b.next}e.go(b.current,a,b)}})},setheight:function(a,b){jQuery(window).on("load",function(){"auto"===c.height?a.find(".content").each(function(){var a=jQuery(this).height();a>b.maxheight&&(b.maxheight=a)}):b.maxheight=c.height;a.height(b.maxheight)})},style:function(a,b){var d=a.find("> li");a.addClass(f.opts.cclass).wrap('<div class="'+f.opts.cclass+" "+c.cclass+'-wrap" />');d.addClass("slide").each(function(){jQuery(this).children().wrapAll('<div class="content cell" />')});e.setheight(a,b);if(c.controls.showmarkers){for(var h=
jQuery('<ul class="markers"/>'),g=0;g<d.length;g+=1)h.append('<li class="marker" data-href="'+g+'">'+(g+1)+"</li>");a.after(h);e.mark(a,b)}c.caption.enable&&(a.find(c.caption.selector).hide(),a.after('<div class="caption"><p/></div>'));if(c.controls.showcontrols)for(d=[e.button(c.controls.text.prev),e.button(c.controls.text.next)],g=0;g<d.length;g+=1)a.parent().prepend(d[g])},init:function(){var a=jQuery(this),b={active:!0,paused:!1,count:a.find("> li").length-1,width:c.width?c.width:a.width(),maxheight:0,
interval:0,controls:0,caption:jQuery(c.caption.selector).html(),current:c.active?c.active:0};a.once(c.cclass,function(){e.style(a,b)});e.events(a,b);e.go(b.current,a,b);e.updateinterval(a,b)}};return this.each(e.init)};f.jTabs=function(d){var c=jQuery.extend({active:0,orient:"horizontal",cclass:"jTabs"},d),e={showContent:function(a,b){var c=b.find(".content"),d=a.parent().find(".panel-content");b.activate();d.fadeOut("normal",function(){jQuery(this).html(c.html()).fadeIn("normal")})},init:function(){var a=
jQuery(this),b=a.find("> li"),d=jQuery("<div/>").classify([f.opts.cclass,c.orient,c.cclass+"-wrap"]);a.once(c.cclass,function(){a.wrap(d).after('<div class="panel"><div class="panel-content" /></div>');b.each(function(){var a=jQuery(this);a.addClass("tab").kidWrap();a.children().eq(0).addClass("title");a.children().eq(1).addClass("content").hide()})});b.each(function(){var b=jQuery(this);b.click(function(c){c.preventDefault();e.showContent(a,b)})});e.showContent(a,b.eq([c.active]))}};return this.each(e.init)};
jQuery.fn.extend(f)}}})(jQuery);
