(function(l){Drupal.behaviors.cellular={attach:function(m,n){var c={opts:{cclass:"cellular",activeclass:"active",breakpoint:"window_mobile"},state:{breakpoint:0,scrolltop:0,scrolltimer:0},breakpoint:function(){var c=window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content");return{size:c.match(/\d/g).join(""),type:c.match(/\w*[^\"\'](?=-)/g).join("")}},activate:function(){return this.each(function(){var g=jQuery(this);g.hasClass(c.opts.activeclass)||g.addClass(c.opts.activeclass).siblings().removeClass(c.opts.activeclass)})},
deactivate:function(){return this.each(function(){jQuery(this).removeClass(c.opts.activeclass)})},kidWrap:function(){return this.each(function(){var c=jQuery(this);1<c.children().length&&c.children(":gt(0)").wrapAll("<div>")})},classify:function(c){return this.each(function(){jQuery(this).addClass(c.join(" "))})},debounce:function(c,b,d){var e;return function(){var a=this,f=arguments,h=d&&!e;clearTimeout(e);e=setTimeout(function(){e=null;d||c.apply(a,f)},b);h&&c.apply(a,f)}},transitionend:function(){var c,
b=document.createElement("test"),d={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(c in d)if(void 0!==b.style[c])return d[c]}};c.windowstate=c.debounce(function(){var g=c.state.breakpoint;c.state.breakpoint=c.breakpoint().type;jQuery("body").removeClass(g).addClass(c.state.breakpoint)},500);c.scrollstate=c.debounce(function(g,b){var d=jQuery("body");b=c.state.scrolltop;c.state.scrolltop=l(document).scrollTop();c.scrolltimer(d,
"scrolled-up","scrolled-down");0<c.state.scrolltop?d.addClass("scrolled"):d.removeClass("scrolled");c.state.scrolltop>b?d.hasClass("scrolled-down")||d.removeClass("scrolled-up").addClass("scrolled-down"):d.hasClass("scrolled-up")||d.removeClass("scrolled-down").addClass("scrolled-up")},0,!0);c.scrolltimer=function(g,b,d){window.clearTimeout(c.state.scrolltimer);c.state.scrolltimer=window.setTimeout(function(){g.removeClass(b+" "+d)},2E3)};c.windowstate();c.scrollstate();l(window).on("resize",c.windowstate);
l(document).on("scroll",c.scrollstate);c.jAccordion=function(g){var b=jQuery.extend({active:0,duration:500,easing:"swing",single:!1},g),d={showContent:function(e){!0===b.single?e.siblings(c.opts.activeclass).deactivate().find(".panel").slideUp(b.duration,b.easing):e.activate().find(".panel").slideToggle(b.duration,b.easing)},style:function(b){b.once("jAccordion",function(){b.addClass(c.opts.cclass).find("> li").each(function(){var a=jQuery(this);a.kidWrap();a.children().eq(0).addClass("title");a.children().eq(1).classify([c.opts.cclass,
"panel"]);a.find(".panel").hide();a.find(".title").click(function(b){b.preventDefault();d.showContent(a)})})})},init:function(){var e=jQuery(this);d.style(e);d.showContent(e.children().eq(b.active))}};return this.each(d.init)};c.jBlocklink=function(g){var b=jQuery.extend({cclass:"jBlocklink-link"},g);return this.each(function(){var d=jQuery(this);d.once(b.cclass,function(){var e=d.find("a").eq(0),a=e.attr("href");void 0!==a&&(a=jQuery('<a href="'+a+'" />'),a.classify([c.opts.cclass,b.cclass,e.attr("class")?
e.attr("class"):null]),d.wrap(a).find("h2, h3").addClass("title"))});d.on("mouseenter touchstart",function(){jQuery(this).activate()}).on("mouseleave touchend",function(){jQuery(this).deactivate()})})};c.jEqualheight=function(c){jQuery.extend({},c);return this.each(function(){var b=0;jQuery(this).find(">*").each(function(){$t=jQuery(this);$t.height()>b&&(b=$t.height());$t.height(b)})})};c.jMmenu=function(g){var b=jQuery.extend({breakpoint:c.opts.breakpoint,parent:jQuery("body"),cclass:"jMmenu",type:"slide",
direction:"right"},g),d={};d.classes=[b.type+"-"+b.direction,b.cclass+"-active",b.cclass+"-inactive"];d.mediaQuery=c.debounce(function(e){if(b.breakpoint===c.state.breakpoint){e=e.children([0]);var a=[d.classes[0],d.classes[2]];b.parent.hasClass(d.classes[0])||(b.parent.addClass(a.join(" ")),e.addClass(b.cclass));e.prependTo(b.parent)}},500);d.init=function(){var e=jQuery(this);d.mediaQuery(e);jQuery(window).on("resize",function(){d.mediaQuery(e)});e.on("click",function(){b.parent.hasClass(d.classes[0])&&
(b.parent.toggleClass(d.classes[1]).toggleClass(d.classes[2]),e.toggleClass(c.opts.activeclass))})};return this.each(d.init)};c.jScrolli=function(g){var b=l.extend({cclass:"jScrolli",active:0,activeSlides:1,size:{height:"auto"},controls:{showcontrols:!0,keyboard:!0,swipe:!0,showmarkers:!0,autoplay:!0,pauseonhover:!0,events:"click mouseup MSPointerUp touchend",text:{next:"Next",prev:"Prev",pause:"Pause"}},transition:{pause:5},caption:{enable:!0,autohide:!1,selector:".caption"},autodim:!0,delay:1.4},
g),d={button:function(b){return'<a class="control '+b.toLowerCase()+'">'+b+"</a>"},normalize:function(b,a){a.prev=a.current-1;a.next=a.current+1;0>a.prev&&(a.prev=a.count);a.next>a.count&&(a.next=0)},go:function(e,a,f){f.paused||(a.parent().parent().addClass("transition").one(c.transitionend(),function(){jQuery(this).removeClass("transition")}),d.normalize(a,f),b.controls.showmarkers&&d.mark(a,f),b.caption.enable&&d.caption(a,f),b.controls.autoplay&&d.updateinterval(a,f),jQuery(a[f.prev]).addClass("previous").siblings().removeClass("previous"),
jQuery(a[f.next]).addClass("next").siblings().removeClass("next"),jQuery(a[e]).activate().removeClass("previous next"))},mark:function(b,a){b.parent().parent().find(".marker").eq(a.current).activate()},caption:function(d,a){var c=d.parent().parent(),h=c.find("> .caption p");a.caption=c.find(b.caption.selector).eq(a.current).text();h.text(a.caption)},setheight:function(d,a){if("auto"===b.size.height)jQuery(window).on("load",function(){d.find(".slide").each(function(){var b=jQuery(this).height();b>
a.maxheight&&(a.maxheight=b)})});else a.maxheight=b.size.height;d.parent().height(a.maxheight)},style:function(e,a){var f=e.find("> li");e.addClass(c.opts.cclass).wrap('<div class="'+c.opts.cclass+" "+b.cclass+'-wrap" />');if(b.controls.showmarkers){for(var h=jQuery('<div class="markers"><ul></ul></div>'),g=0;g<f.length;g+=1)h.find("ul").append('<li class="marker" data-href="'+g+'">'+(g+1)+"</li>");e.after(h);d.mark(e,a)}b.caption.enable&&("auto"!==b.caption.selector&&e.find(b.caption.selector).hide(),
e.after('<div class="caption"><p/></div>'));b.controls.showcontrols&&(h=[d.button(b.controls.text.pause),d.button(b.controls.text.prev),d.button(b.controls.text.next)],e.parent().prepend(h[0]+h[1]+h[2]));f.each(function(){jQuery(this).addClass("slide")});d.setheight(e,a)},updateinterval:function(c,a){a.paused||(clearInterval(a.interval),a.interval=setInterval(function(){a.current=a.next;d.go(a.current,c,a)},1E3*b.transition.pause))},events:function(c,a){c.siblings(".controls");var f=c.find("> li"),
h=c.parent(),g=null,k=null;h.find(".prev").on(b.controls.events,function(b){a.current=a.prev;a.paused=!1;d.go(a.current,f,a)});h.find(".next").on(b.controls.events,function(b){a.current=a.next;a.paused=!1;d.go(a.current,f,a)});h.find(".pause").on(b.controls.events,function(b){a.paused?(a.paused=!1,d.updateinterval(c,a)):(a.paused=!0,clearInterval(a.interval));l(this).toggleClass("play")});if(b.controls.showmarkers)c.siblings().find(".marker").on("click",function(){a.current=jQuery(this).attr("data-href");
a.paused=!1;d.go(a.current,f,a)});h.on({mouseover:function(){a.active=!0;b.controls.pauseonhover?a.paused=!0:null;b.autodim&&h.activate();window.clearTimeout(h.timeout)},mouseout:function(){a.active=!1;b.controls.pauseonhover?a.paused=!1:null;b.autodim?h.timeout=window.setTimeout(function(){h.deactivate()},1E3*b.delay):null}});if(b.controls.keyboard)jQuery(document).on("keyup",function(b){if(-1!==[37,39].indexOf(b.which)){b.preventDefault();a.paused=!1;switch(b.which){case 37:a.current=a.prev;break;
case 39:a.current=a.next}d.go(a.current,f,a)}});if(b.controls.swipe)c.on({"mousedown touchstart":function(b){a.paused=!0;b.touches?(g=b.touches[0].clientX,k=b.touches[0].clientY):(g=b.pageX,k=b.pageY)},"mouseup touchmove":function(b){if(g&&k){var c;b.touches?(c=g-b.touches[0].clientX,b=k-b.touches[0].clientY):(c=g-b.pageX,b=k-b.pageY);Math.abs(c)>Math.abs(b)?20>c?a.current=a.next:20<c&&(a.current=a.prev):20>b?a.current=a.next:20<b&&(a.current=a.prev);k=g=null;a.paused=!1;d.go(a.current,f,a)}}})},
init:function(){var c=jQuery(this),a=c.find("> li"),f={active:!0,paused:!1,count:a.length-1,width:c.width(),maxheight:0,interval:0,controls:0,caption:jQuery(b.caption.selector).html(),current:b.active?b.active:0};f.prev=f.current-1;f.next=f.current+1;b.caption.selector="auto"===b.caption.selector?"[title]":b.caption.selector;a.each(function(){var a=jQuery(this);a.height()>f.maxheight&&(f.maxheight=a.height())});c.once(b.cclass,function(){d.style(c,f)});d.events(c,f);d.go(f.current,a,f);b.controls.autoplay&&
d.updateinterval(a,f)}};return this.each(d.init)};c.jTabs=function(g){var b=jQuery.extend({active:0,orient:"horizontal"},g),d={showContent:function(b,a){var c=a.find(".content"),d=b.parent().find(".panel-content");a.activate();d.fadeOut("normal",function(){jQuery(this).html(c.html()).fadeIn("normal")})},init:function(){var e=jQuery(this),a=e.find("> li"),f=jQuery('<div class="'+c.opts.cclass+" "+b.orient+' jTabs-wrap"></div>');e.once("jTabs",function(){e.wrap(f).after('<div class="panel"><div class="panel-content" /></div>');
a.each(function(){var a=jQuery(this);a.addClass("tab").kidWrap();a.children().eq(0).addClass("title");a.children().eq(1).addClass("content").hide()})});a.each(function(){var a=jQuery(this);a.click(function(b){b.preventDefault();d.showContent(e,a)})});d.showContent(e,a.eq([b.active]))}};return this.each(d.init)};jQuery.fn.extend(c)}}})(jQuery);
