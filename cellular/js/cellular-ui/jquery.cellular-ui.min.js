(function(m){Drupal.behaviors.cellular={attach:function(n,p){var g={opts:{cclass:"cellular",activeclass:"active",breakpoint:"mobile"},breakpoint:function(){var e=window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content");return{size:e.match(/\d/g).join(""),type:e.match(/\w*[^\"\'](?=-)/g).join("")}},activate:function(){return this.each(function(){var e=jQuery(this);e.hasClass(g.opts.activeclass)||e.addClass(g.opts.activeclass).siblings().removeClass(g.opts.activeclass)})},
deactivate:function(){return this.each(function(){jQuery(this).removeClass(g.opts.activeclass)})},kidWrap:function(){return this.each(function(){var e=jQuery(this);1<e.children().length&&e.children(":gt(0)").wrapAll("<div>")})},classify:function(e){return this.each(function(){jQuery(this).addClass(e.join(" "))})},jAccordion:function(e){var c=jQuery.extend({active:0,duration:500,easing:"swing",single:!1},e),d={showContent:function(b){!0===c.single?b.siblings(".active").deactivate().find(".panel").slideUp(c.duration,
c.easing):b.activate().find(".panel").slideToggle(c.duration,c.easing)},style:function(b){b.once("jAccordion",function(){b.addClass(g.opts.cclass).find("> li").each(function(){var a=jQuery(this);a.kidWrap();a.children().eq(0).addClass("title");a.children().eq(1).classify([g.opts.cclass,"panel"]);a.find(".panel").hide();a.find(".title").click(function(b){b.preventDefault();d.showContent(a)})})})},init:function(){var b=jQuery(this);d.style(b);d.showContent(b.children().eq(c.active))}};return this.each(d.init)},
jBlocklink:function(e){var c=jQuery.extend({cclass:"jBlocklink-link"},e);return this.each(function(){var d=jQuery(this);d.once(c.cclass,function(){var b=d.find("a").eq(0),a=b.attr("href");void 0!==a&&(a=jQuery('<a href="'+a+'" />'),a.classify([g.opts.cclass,c.cclass,b.attr("class")?b.attr("class"):null]),d.wrap(a).find("h2, h3").addClass("title"))});d.on("mouseenter touchstart",function(){jQuery(this).activate()}).on("mouseleave touchend",function(){jQuery(this).deactivate()})})},jEqualheight:function(e){jQuery.extend({},
e);return this.each(function(){var c=0;jQuery(this).find(">*").each(function(){$t=jQuery(this);$t.height()>c&&(c=$t.height());$t.height(c)})})},jMmenu:function(e){var c=jQuery.extend({breakpoint:g.opts.breakpoint,parent:jQuery("body"),cclass:"jMmenu",type:"slide",direction:"right"},e),d={};d.classes=[c.type+"-"+c.direction,c.cclass+"-active",c.cclass+"-inactive"];d.mediaQuery=function(b){if(c.breakpoint===g.breakpoint().type){b=b.children([0]);var a=[d.classes[0],d.classes[2]];c.parent.hasClass(d.classes[0])||
(c.parent.addClass(a.join(" ")),b.addClass(c.cclass));b.prependTo(c.parent)}};d.init=function(){var b=jQuery(this),a=jQuery(window);d.mediaQuery(b);a.on("resize",function(){d.mediaQuery(b)});b.on("click",function(){c.parent.hasClass(d.classes[0])&&(c.parent.toggleClass(d.classes[1]).toggleClass(d.classes[2]),b.toggleClass(g.opts.activeclass))})};return this.each(d.init)},jScrolli:function(e){var c=m.extend({cclass:"jScrolli",active:0,size:{height:"auto"},controls:{events:"click touchend MSPointerUp",
showcontrols:!0,showmarkers:!0,autoplay:!0,pauseonhover:!0,text:{next:"Next",prev:"Prev",pause:"Pause"}},transition:{"function":"fn.slide",pause:5,speed:500},caption:{enable:!0,autohide:!1,selector:".caption"},autodim:!0,delay:1.4},e),d={button:function(b){return'<a class="control '+b.toLowerCase()+'">'+b+"</a>"},normalize:function(b,a){a.prev=a.current-1;a.next=a.current+1;0>a.prev&&(a.prev=a.count);a.next>a.count&&(a.next=0)},go:function(b,a,f){f.paused||(d.normalize(a,f),c.controls.showmarkers&&
d.mark(a,f),c.caption.enable&&d.caption(a,f),c.controls.autoplay&&d.updateinterval(a,f),jQuery(a[f.prev]).addClass("previous").siblings().removeClass("previous"),jQuery(a[f.next]).addClass("next").siblings().removeClass("next"),jQuery(a[b]).activate().removeClass("previous next"))},mark:function(b,a){b.parent().parent().find(".marker").eq(a.current).activate()},caption:function(b,a){a.caption=b.parent().find(c.caption.selector).eq(a.current).html();b.parent().parent().find("> .caption").html(a.caption)},
autoheight:function(b,a){"auto"===c.size.height?b.height(a.maxheight):b.height(c.size.height)},style:function(b,a){var f=b.find("> li");b.addClass(g.opts.cclass).wrap('<div class="'+g.opts.cclass+" "+c.cclass+'-wrap" />');c.caption.enable&&("auto"!==c.caption.selector&&b.find(c.caption.selector).hide(),b.before('<div class="caption" />'));f.each(function(){var b=jQuery(this);b.addClass("slide").children().wrapAll('<div class="wrap" />');d.autoheight(b,a)});d.autoheight(b,a);if(c.controls.showmarkers){for(var e=
jQuery('<div class="markers"><ul></ul></div>'),l=0;l<f.length;l+=1){var h=l;e.find("ul").append('<li class="marker" data-href="'+h+'">'+(h+1)+"</li>")}b.after(e);d.mark(b,a)}c.controls.showcontrols&&(f=[d.button(c.controls.text.pause),d.button(c.controls.text.prev),d.button(c.controls.text.next)],b.after('<div class="controls">'+f[0]+f[1]+f[2]+"</div>"))},updateinterval:function(b,a){clearInterval(a.interval);a.interval=setInterval(function(){a.current=a.next;d.go(a.current,b,a)},1E3*c.transition.pause)},
autoplay:function(b,a){a.paused||d.updateinterval(b,a)},events:function(b,a){var f=b.siblings(".controls"),e=b.find("> li"),g=b.parent(),h=null,k=null;f.find(".prev").on(c.controls.events,function(b){a.current=a.prev;a.paused=!1;d.go(a.current,e,a)});f.find(".next").on(c.controls.events,function(b){a.current=a.next;a.paused=!1;d.go(a.current,e,a)});g.on({mouseover:function(){a.active=!0;c.controls.pauseonhover?a.paused=!0:null;c.autodim&&g.activate();window.clearTimeout(g.timeout)},mouseout:function(){a.active=
!1;c.controls.pauseonhover?a.paused=!1:null;c.autodim?g.timeout=window.setTimeout(function(){g.deactivate()},1E3*c.delay):null},touchstart:function(b){h=b.touches[0].clientX;k=b.touches[0].clientY;a.active=!0},touchmove:function(b){if(h&&k){var c=h-b.touches[0].clientX;b=k-b.touches[0].clientY;Math.abs(c)>Math.abs(b)?a.current=20<c?a.prev:a.next:a.current=20<b?a.prev:a.next;k=h=null;a.active=!1;d.go(a.current,e,a)}}});if(c.controls.showmarkers)b.siblings().find(".marker").on("click",function(){a.current=
jQuery(this).attr("data-href");a.paused=!1;d.go(a.current,e,a)});if(a.active)jQuery(document).on("keyup",function(b){console.log(b.which);if(-1!==[37,38,39,40].indexOf(b.which)){console.log(b.which);b.preventDefault();a.paused=!1;switch(b.which){case 37:a.current=a.prev;break;case 39:a.current=a.next}d.go(a.current,e,a)}})},init:function(){var b=jQuery(this),a=b.find("> li"),f={active:!0,paused:!1,animating:!1,count:a.length-1,width:b.width(),maxheight:0,interval:0,controls:0,caption:jQuery(c.caption.selector).html(),
current:c.active?c.active:0};f.prev=f.current-1;f.next=f.current+1;c.caption.selector="auto"===c.caption.selector?"[title]":c.caption.selector;a.each(function(){var a=jQuery(this);a.height()>f.maxheight&&(f.maxheight=a.height())});b.once(c.cclass,function(){d.style(b,f)});d.events(b,f);d.go(f.current,a,f);c.controls.autoplay&&d.autoplay(a,f)}};return this.each(d.init)},jTabs:function(e){var c=jQuery.extend({active:0,orient:"horizontal"},e),d={showContent:function(b){var a=b.find(".content"),c=b.parent().find(".panel-content");
b.activate();c.fadeOut("normal",function(){jQuery(this).html(a.html()).fadeIn("normal")})},init:function(){var b=jQuery(this),a=b.find("> li");b.addClass(g.opts.cclass).height(0);b.once("jTabs",function(){b.addClass(g.opts.cclass+" "+c.orient).append('<div class="'+g.opts.cclass+' panel" />');b.find(".panel").append('<div class="panel-content" />');a.each(function(){var a=jQuery(this);a.addClass("tab").kidWrap();a.children().eq(0).addClass("title");a.children().eq(1).addClass("content").hide()})});
a.each(function(){var a=jQuery(this);a.click(function(b){b.preventDefault();d.showContent(a)})});d.showContent(a.eq([c.active]))}};return this.each(d.init)}};jQuery.fn.extend(g)}}})(jQuery);
